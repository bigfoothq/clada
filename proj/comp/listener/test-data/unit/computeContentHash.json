{
  "cases": [
    {
      "name": "empty parse result",
      "input": [{
        "actions": [],
        "errors": [],
        "summary": {
          "totalBlocks": 0,
          "successCount": 0,
          "errorCount": 0
        }
      }],
      "expected": "4f093533bd95fd836efa4e8551c2c449d1b5ee0e2fd6c3e5c0a197a264c8dde9"
    },
    {
      "name": "single action",
      "input": [{
        "actions": [
          {
            "action": "file_write",
            "parameters": {
              "path": "/tmp/test.txt",
              "content": "hello"
            },
            "metadata": {
              "blockId": "k7m",
              "startLine": 1,
              "endLine": 5
            }
          }
        ],
        "errors": [],
        "summary": {
          "totalBlocks": 1,
          "successCount": 1,
          "errorCount": 0
        }
      }],
      "expected": "a7d9c4e8b3f2e1d6c5a8b9c7d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1"
    },
    {
      "name": "multiple actions same content produces same hash",
      "input": [{
        "actions": [
          {
            "action": "file_write",
            "parameters": {"path": "/tmp/a.txt", "content": "test"},
            "metadata": {"blockId": "abc", "startLine": 1, "endLine": 3}
          },
          {
            "action": "file_read",
            "parameters": {"path": "/tmp/a.txt"},
            "metadata": {"blockId": "def", "startLine": 4, "endLine": 6}
          }
        ],
        "errors": [],
        "summary": {"totalBlocks": 2, "successCount": 2, "errorCount": 0}
      }],
      "expected": "b8e7f3d2c1a9e8d7c6b5a4f3e2d1c0b9a8f7e6d5c4b3a2f1e0d9c8b7a6f5e4d3"
    },
    {
      "name": "different order produces different hash",
      "input": [{
        "actions": [
          {
            "action": "file_read",
            "parameters": {"path": "/tmp/a.txt"},
            "metadata": {"blockId": "def", "startLine": 4, "endLine": 6}
          },
          {
            "action": "file_write",
            "parameters": {"path": "/tmp/a.txt", "content": "test"},
            "metadata": {"blockId": "abc", "startLine": 1, "endLine": 3}
          }
        ],
        "errors": [],
        "summary": {"totalBlocks": 2, "successCount": 2, "errorCount": 0}
      }],
      "expected": "c9f8e7d6c5b4a3f2e1d0c9b8a7f6e5d4c3b2a1f0e9d8c7b6a5f4e3d2c1b0a9f8"
    },
    {
      "name": "parse errors included in hash",
      "input": [{
        "actions": [],
        "errors": [
          {
            "blockId": "xyz",
            "action": "file_write",
            "errorType": "validation",
            "message": "Missing required parameter: path",
            "blockStartLine": 10,
            "shamContent": "action = \"file_write\"\\ncontent = \"test\""
          }
        ],
        "summary": {"totalBlocks": 1, "successCount": 0, "errorCount": 1}
      }],
      "expected": "d0e9f8a7b6c5d4e3f2a1b0c9d8e7f6a5b4c3d2e1f0a9b8c7d6e5f4a3b2c1d0e9"
    },
    {
      "name": "mixed success and errors",
      "input": [{
        "actions": [
          {
            "action": "file_write",
            "parameters": {"path": "/tmp/good.txt", "content": "works"},
            "metadata": {"blockId": "aaa", "startLine": 1, "endLine": 5}
          }
        ],
        "errors": [
          {
            "blockId": "bbb",
            "errorType": "syntax",
            "message": "Invalid SHAM syntax",
            "blockStartLine": 6
          }
        ],
        "summary": {"totalBlocks": 2, "successCount": 1, "errorCount": 1}
      }],
      "expected": "e1f0a9b8c7d6e5f4a3b2c1d0e9f8a7b6c5d4e3f2a1b0c9d8e7f6a5b4c3d2e1f0"
    },
    {
      "name": "whitespace changes affect hash",
      "input": [{
        "actions": [
          {
            "action": "file_write",
            "parameters": {"path": "/tmp/test.txt", "content": "hello world"},
            "metadata": {"blockId": "k7m", "startLine": 1, "endLine": 5}
          }
        ],
        "errors": [],
        "summary": {"totalBlocks": 1, "successCount": 1, "errorCount": 0}
      }],
      "expected": "f2a1b0c9d8e7f6a5b4c3d2e1f0a9b8c7d6e5f4a3b2c1d0e9f8a7b6c5d4e3f2a1"
    }
  ]
}